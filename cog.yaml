# Configuration for Cog âš™
# Reference: https://github.com/replicate/cog/blob/main/docs/yaml.md

build:
  gpu: true
    
  cuda: "11.5"
  
  python_version: "3.9"

  python_packages:
    - "jupyterlab==3.3.4"
    - "nltk==3.7"
    - "numpy==1.22.3"
    - "tqdm==4.64.0"
    - "transformers==4.11.3"
    - "wandb==0.12.15"
  run:
    - "pip install torch --extra-index-url https://download.pytorch.org/whl/cu112"
    - "pip install tensorflow==2.8.0"
    - >
      python -c 'from transformers import GPT2Tokenizer,GPT2LMHeadModel; m, t = GPT2LMHeadModel.from_pretrained("gpt2-large"), GPT2Tokenizer.from_pretrained("gpt2-large")'
    - >
      python -c 'import nltk; [nltk.download(p) for p in ("punkt", "stopwords", "averaged_perceptron_tagger")]'
